{"remainingRequest":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/babel-loader/lib/index.js!/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mori/Desktop/git-localhost/AiChatFun/vue/src/views/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/src/views/Index.vue","mtime":1680425680652},{"path":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/babel.config.js","mtime":1680425680647},{"path":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mori/Desktop/git-localhost/AiChatFun/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL29wZW5BaeWvhumSpQogICAgICBhcGlLZXk6ICIiLAogICAgICAvL+mAieaLqeiuuuaWh+exu+WeiwogICAgICBwYXBlclR5cGU6IDAsCiAgICAgIC8v5qih5Z6L57G75Z6LCiAgICAgIG1vZGVsVHlwZTogIjEiLAogICAgICAvL+WPguaVsAogICAgICBwcm9tcHQ6ICIiLAogICAgICAvL+S4iuS8oOaWh+S7tgogICAgICBmaWxlTmFtZTogIiIsCiAgICAgIHRvcGs6IDMwLAogICAgICB0ZW06IDMwLAogICAgICAvL+mTvuaOpQogICAgICBsaW5rOiAiIiwKICAgICAgLy8g57uT5p6cCiAgICAgIHJlc3VsdDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+S/ruaUueiuuuaWh+exu+WeiwogICAgY2hhbmdlUGFwZXJUeXBlKGUpIHsKICAgICAgdGhpcy5wYXBlclR5cGUgPSBlOwogICAgfSwKICAgIC8v5o+Q5LqkCiAgICBzdWJtaXQoKSB7CiAgICAgIHZhciB0bXBfZm9ybSA9IHsKICAgICAgICAvL29wZW5BaeWvhumSpQogICAgICAgIGFwaUtleTogdGhpcy5hcGlLZXksCiAgICAgICAgLy/pgInmi6norrrmlofnsbvlnosKICAgICAgICBwYXBlclR5cGU6IHRoaXMucGFwZXJUeXBlLAogICAgICAgIC8v5qih5Z6L57G75Z6LCiAgICAgICAgbW9kZWxUeXBlOiB0aGlzLm1vZGVsVHlwZSwKICAgICAgICAvL+WPguaVsAogICAgICAgIHByb21wdDogdGhpcy5wcm9tcHQsCiAgICAgICAgLy/kuIrkvKDmlofku7YKICAgICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSwKICAgICAgICB0b3BrOiB0aGlzLnRvcGsgLyAxMDAsCiAgICAgICAgdGVtOiB0aGlzLnRlbSAvIDEwMCwKICAgICAgICAvL+mTvuaOpQogICAgICAgIGxpbms6IHRoaXMubGluawogICAgICB9OwogICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hcGkvcmVxdWVzdF9wYXBlcl9zdW1tYXJ5IiwgdG1wX2Zvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMucmVzdWx0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+inpuWPkeS4iuS8oAogICAgdXBsb2FkKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZXMiKS5jbGljaygpOwogICAgfSwKICAgIC8v5aSE55CG5paH5Lu2CiAgICBoYW5kbGVGaWxlcygpIHsKICAgICAgdmFyIHNlbGVjdGVkRmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWxlcyIpLmZpbGVzWzBdOyAvL+iOt+WPluivu+WPlueahEZpbGXlr7nosaEKICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRGaWxlKTsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgc2VsZWN0ZWRGaWxlKTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL3JlcXVlc3RfcGFwZXJfdXBsb2FkIiwgZm9ybURhdGEsIHsKICAgICAgICAvL+S4iuS8oOeahFVybAogICAgICAgICJDb250ZW50LXR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5maWxlTmFtZSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi5LiK5Lyg5oiQ5YqfIiwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5LiK5Lyg5aSx6LSlIiArIGVycik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZCgpIHsKICAgIHZhciBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZXMiKTsKICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCB0aGlzLmhhbmRsZUZpbGVzLCBmYWxzZSk7CiAgfQp9Ow=="},{"version":3,"names":["data","apiKey","paperType","modelType","prompt","fileName","topk","tem","link","result","methods","changePaperType","e","submit","tmp_form","axios","post","then","res","console","log","catch","err","upload","document","getElementById","click","handleFiles","selectedFile","files","formData","FormData","append","$message","message","type","error","components","mounted","inputElement","addEventListener"],"sources":["src/views/Index.vue"],"sourcesContent":["<template>\r\n  <div class=\"index\">\r\n    <div class=\"index_contain\">\r\n      <div class=\"index_contain_left\">\r\n        <el-input\r\n          v-model=\"apiKey\"\r\n          placeholder=\"API KEY输入框\"\r\n        ></el-input>\r\n        <div class=\"index_contain_left_contain\">\r\n          <div class=\"iclc_btn\">\r\n            <div\r\n              class=\"iclc_btn_color\"\r\n              :style=\"'left:'+(paperType?'calc(50% - 9.25px);':'0;')\"\r\n            ></div>\r\n            <div\r\n              class=\"iclc_btn_item\"\r\n              :style=\"paperType==0?'color:#fff':''\"\r\n              @click=\"changePaperType(0)\"\r\n            >模型选择</div>\r\n            <div\r\n              class=\"iclc_btn_item\"\r\n              :style=\"paperType==1?'color:#fff':''\"\r\n              @click=\"changePaperType(1)\"\r\n            >prompt</div>\r\n          </div>\r\n          <div v-if=\"paperType==0\">\r\n            <div class=\"iclc_model\">\r\n              <el-radio\r\n                v-model=\"modelType\"\r\n                label=\"1\"\r\n              >model1</el-radio>\r\n              <el-radio\r\n                v-model=\"modelType\"\r\n                label=\"2\"\r\n              >model12</el-radio>\r\n            </div>\r\n            <div style=\"margin-top:10px\">topk:{{topk/100}}</div>\r\n\r\n            <el-slider v-model=\"topk\"></el-slider>\r\n            <div style=\"margin-top:10px\">tem:{{tem/100}}</div>\r\n            <el-slider v-model=\"tem\"></el-slider>\r\n          </div>\r\n          <div v-if=\"paperType==1\">\r\n            <textarea class=\"iclc_textarea\"></textarea>\r\n          </div>\r\n          <div class=\"iclc_file\">\r\n            <div\r\n              class=\"iclc_file_btn\"\r\n              @click=\"upload\"\r\n            >文件上传</div>\r\n            <el-input\r\n              class=\"iclc_file_input\"\r\n              v-model=\"link\"\r\n              placeholder=\"论文链接输入框\"\r\n            ></el-input>\r\n          </div>\r\n          <div\r\n            class=\"iclc_submit\"\r\n            @click=\"submit\"\r\n          >提交</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"index_contain_right\">{{result}}</div>\r\n    </div>\r\n    <input\r\n      v-show=\"false\"\r\n      id=\"files\"\r\n      type=\"file\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //openAi密钥\r\n      apiKey: \"\",\r\n      //选择论文类型\r\n      paperType: 0,\r\n      //模型类型\r\n      modelType: \"1\",\r\n      //参数\r\n      prompt: \"\",\r\n      //上传文件\r\n      fileName: \"\",\r\n      topk: 30,\r\n      tem: 30,\r\n      //链接\r\n      link: \"\",\r\n      // 结果\r\n      result: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    //修改论文类型\r\n    changePaperType(e) {\r\n      this.paperType = e;\r\n    },\r\n    //提交\r\n    submit() {\r\n      var tmp_form = {\r\n        //openAi密钥\r\n        apiKey: this.apiKey,\r\n        //选择论文类型\r\n        paperType: this.paperType,\r\n        //模型类型\r\n        modelType: this.modelType,\r\n        //参数\r\n        prompt: this.prompt,\r\n        //上传文件\r\n        fileName: this.fileName,\r\n        topk: this.topk / 100,\r\n        tem: this.tem / 100,\r\n        //链接\r\n        link: this.link,\r\n      };\r\n      this.axios\r\n        .post(\"/api/request_paper_summary\", tmp_form)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.result = res.data.data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    //触发上传\r\n    upload() {\r\n      document.getElementById(\"files\").click();\r\n    },\r\n    //处理文件\r\n    handleFiles() {\r\n      var selectedFile = document.getElementById(\"files\").files[0]; //获取读取的File对象\r\n      console.log(selectedFile);\r\n      const formData = new FormData();\r\n      formData.append(\"file\", selectedFile);\r\n      this.axios\r\n        .post(\"/api/request_paper_upload\", formData, { //上传的Url\r\n          \"Content-type\": \"multipart/form-data\",\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.fileName = res.data.data;\r\n          this.$message({\r\n            message: \"上传成功\",\r\n            type: \"success\",\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.$message.error(\"上传失败\" + err);\r\n        });\r\n    },\r\n  },\r\n  components: {},\r\n  mounted() {\r\n    var inputElement = document.getElementById(\"files\");\r\n    inputElement.addEventListener(\"change\", this.handleFiles, false);\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"../scss/Index.scss\";\r\n</style>"],"mappings":"AAwEA;EACAA,KAAA;IACA;MACA;MACAC,MAAA;MACA;MACAC,SAAA;MACA;MACAC,SAAA;MACA;MACAC,MAAA;MACA;MACAC,QAAA;MACAC,IAAA;MACAC,GAAA;MACA;MACAC,IAAA;MACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,gBAAAC,CAAA;MACA,KAAAV,SAAA,GAAAU,CAAA;IACA;IACA;IACAC,OAAA;MACA,IAAAC,QAAA;QACA;QACAb,MAAA,OAAAA,MAAA;QACA;QACAC,SAAA,OAAAA,SAAA;QACA;QACAC,SAAA,OAAAA,SAAA;QACA;QACAC,MAAA,OAAAA,MAAA;QACA;QACAC,QAAA,OAAAA,QAAA;QACAC,IAAA,OAAAA,IAAA;QACAC,GAAA,OAAAA,GAAA;QACA;QACAC,IAAA,OAAAA;MACA;MACA,KAAAO,KAAA,CACAC,IAAA,+BAAAF,QAAA,EACAG,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAAT,MAAA,GAAAS,GAAA,CAAAlB,IAAA,CAAAA,IAAA;MACA,GACAqB,KAAA,CAAAC,GAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,GAAA;MACA;IACA;IACA;IACAC,OAAA;MACAC,QAAA,CAAAC,cAAA,UAAAC,KAAA;IACA;IACA;IACAC,YAAA;MACA,IAAAC,YAAA,GAAAJ,QAAA,CAAAC,cAAA,UAAAI,KAAA;MACAV,OAAA,CAAAC,GAAA,CAAAQ,YAAA;MACA,MAAAE,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,SAAAJ,YAAA;MACA,KAAAb,KAAA,CACAC,IAAA,8BAAAc,QAAA;QAAA;QACA;MACA,GACAb,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAAb,QAAA,GAAAa,GAAA,CAAAlB,IAAA,CAAAA,IAAA;QACA,KAAAiC,QAAA;UACAC,OAAA;UACAC,IAAA;QACA;MACA,GACAd,KAAA,CAAAC,GAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,GAAA;QACA,KAAAW,QAAA,CAAAG,KAAA,UAAAd,GAAA;MACA;IACA;EACA;EACAe,UAAA;EACAC,QAAA;IACA,IAAAC,YAAA,GAAAf,QAAA,CAAAC,cAAA;IACAc,YAAA,CAAAC,gBAAA,gBAAAb,WAAA;EACA;AACA"}]}